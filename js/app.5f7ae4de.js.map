{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/modules/GamePanel.vue?a602","webpack:///./src/App.vue?8578","webpack:///./src/components/modules/instruction/Instruction.vue?186b","webpack:///./src/views/Home.vue?e271","webpack:///./src/components/base/ItemImage.vue?597b","webpack:///./src/components/modules/ModeZone.vue?f790","webpack:///./src/components/modules/ItemZone.vue?ba5d","webpack:///./src/App.vue","webpack:///./src/views/Home.vue","webpack:///./src/components/modules/GamePanel.vue","webpack:///./src/components/base/ItemImage.vue","webpack:///./src/core/physics/vector.ts","webpack:///./src/core/physics/geometry.ts","webpack:///./src/core/physics/kinematics.ts","webpack:///./src/core/physics/collider.ts","webpack:///./src/core/mapitems/map-item.ts","webpack:///./src/core/mapitems/ball.ts","webpack:///./src/core/constants/gizmo.ts","webpack:///./src/store/module1.ts","webpack:///./src/store/index.ts","webpack:///./src/core/common/index.ts","webpack:///./src/components/base/ItemImage.vue?92d8","webpack:///./src/components/base/ItemImage.vue?9ac3","webpack:///./src/components/base/ItemImage.vue?485a","webpack:///./src/core/mapitems/polygon.ts","webpack:///./src/core/mapitems/square.ts","webpack:///./src/core/mapitems/absorber.ts","webpack:///./src/core/mapitems/baffle.ts","webpack:///./src/core/mapitems/border-map-item.ts","webpack:///./src/core/mapitems/circle.ts","webpack:///./src/core/mapitems/pipe.ts","webpack:///./src/core/mapitems/pipe-turned.ts","webpack:///./src/core/mapitems/triangle.ts","webpack:///./src/core/constants/index.ts","webpack:///./src/core/controller/Controller.ts","webpack:///./src/components/modules/GamePanel.vue?239b","webpack:///./src/components/modules/GamePanel.vue?8ed2","webpack:///./src/components/modules/GamePanel.vue?8b64","webpack:///./src/components/modules/ItemZone.vue","webpack:///./src/components/modules/ItemZone.vue?90e0","webpack:///./src/components/modules/ItemZone.vue?e7a1","webpack:///./src/components/modules/ItemZone.vue?8592","webpack:///./src/components/modules/ToolZone.vue","webpack:///./src/components/modules/ToolZone.vue?21f5","webpack:///./src/components/modules/ToolZone.vue?fd44","webpack:///./src/components/modules/ToolZone.vue?0005","webpack:///./src/components/modules/ModeZone.vue","webpack:///./src/components/modules/ModeZone.vue?5e8b","webpack:///./src/components/modules/ModeZone.vue?af25","webpack:///./src/components/modules/ModeZone.vue?315c","webpack:///./src/components/modules/instruction/Instruction.vue","webpack:///./src/components/modules/instruction/Instruction.vue?6c39","webpack:///./src/views/Home.vue?ee04","webpack:///./src/views/Home.vue?c00d","webpack:///./src/views/Home.vue?f957","webpack:///./src/views/TSViews.ts","webpack:///./src/App.vue?9844","webpack:///./src/App.vue?198c","webpack:///./src/App.vue?315a","webpack:///./src/main.ts","webpack:///./src/components/modules/ToolZone.vue?362a"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_c","_self","_setupProxy","ref","attrs","staticRenderFns","staticClass","staticStyle","on","$event","onPanelClick","onDrop","preventDefault","onDragover","arguments","_l","items","item","index","currentItemId","id","nativeOn","stopPropagation","onImgClick","class","cssClass","style","position","y","x","zindex","rotation","imgURL","width","height","imageDraggable","onDragstart","onDragend","Vector2D","constructor","equals","v","clone","copy","add","as","mult","dot","radius","normalVector","unitization","projection","component","axis","vectorProjection","vectorRotate","angle","pointRotate","center","directionRotate","direction","reflet","reflect","v1","v2","Math","sqrt","ZERO","Error","acos","a","cos","sin","special","difference","vectors","sum","forEach","vertex","polygon","Direction","Line","p1","p2","directionVector","distance","point","abs","Angle","PI","Physical","massPoint","move","tick","setVelocity","m1","m2","reflectLine","newV1","newV2","unitVector","negate","gravity","MassPoint","_a","_v","_p","_accRecord","Map","changeVelocity","translate","addVelocity","setAcceleration","accType","set","Collider","_rotation","Up","_zoom","_position","times","rotate","RIGHT_ANGLE_REVERSE","zoom","zoomTo","PolygonCollider","_vertexes","super","_edges","map","array","average","zoomCenter","crashDetect","crashable","edges","axes","edge","polygonCollidesWithCircle","separationOnAxes","circle","CircleCollider","closestPoint","getPolygonPointClosestToCircle","undefined","projection1","project","projection2","scalars","vertexes","min","max","borderAxis1","borderAxis2","crashHandle","Ball","refletLine","ballPos","outPointProjectionOnEdge","surfaceVelocityReflect","_radius","dotProduct","MapItem","collider","currentID","console","log","collisible","gridScale","pipeID","Name","perfectElasticCollision","imageUrl","isViewItem","obj","typeValue","gridLength","gridLineLength","sampleItem","img","selectItem","ballItem","absorberItem","triangleItem","circleItem","squareItem","pipeItem","pipeTurnedItem","baffleAlphaItem","baffleBetaItem","itemMap","absorber","ball","pipe","select","square","triangle","border","Gizmo","sampleItems","itemss","getViewItemByType","state","useLightTheme","currentMode","currentState","draggingItem","draggingItemOffset","toolZoneCurrentItem","panelCurrentItem","mutations","changeTheme","useLight","theme","document","getElementById","setAttribute","changeMode","changeState","changeDraggingItem","changeDraggingItemOffset","changeToolZoneCurrentItem","changePanelCurrentItem","actions","Vue","use","Vuex","store","rootActionContext","moduleActionContext","createDirectStore","module1","isRotatable","isZoomable","ItemImage","defaultSize","selected","base","event","commit","offsetX","offsetY","__decorate","Prop","Component","PolygonMapItem","SquareCollider","vertical","horizontal","SquareMapItem","AbsorberMapItem","imageURL","Controller","getInstance","handleAbsorb","BaffleCollider","BaffleMapItem","offset","BaffleAlphaMapItem","BaffleBetaMapItem","BorderCollider","borders","verticalMax","maxGridCount","horizontalMax","BorderMapItem","CircleMapItem","PipeCollider","PipeMapItem","crashLine","lineCenter","ballCenter","change","pipeAcc","PipeTurnedCollider","PipeTurnedMapItem","entryAxis1","entryAxis2","TriangleCollider","TriangleMapItem","MapItemJSON","mapItems","balls","alphaBaffles","betaBaffles","savedJSONString","mapItemsToJSON","controller","mapItem","createMapItem","handleAddItem","loadMapItemsFromItems","clearAll","loadMapItemsFromJSON","content","readFromJSON","jsonItems","JSON","parse","Array","jsonItem","createFromJSON","from","to","collidesWithOthers","element","mapitem","handleDraggingItem","newPosition","oldPosition","handleDeleteItem","delete","handleZoomIn","handleZoomOut","handleRotate","RIGHT_ANGLE","startPlaying","kv","timer","setInterval","clearInterval","stopPlaying","clear","pause","continue","mapItemJSONs","mapItemJSON","stringify","handleBaffleMove","movement","baffle","GamePanel","mounted","$refs","getBoundingClientRect","gridX","left","gridY","top","dataTransfer","dropEffect","clientX","clientY","formatPosition","options","cellLength","round","floor","components","rowIndex","colIndex","directives","rawName","currentItem","expression","domProps","_q","ItemZone","onCurrentItemChanged","val","oldVal","Watch","available","remove","zoomin","zoomout","ToolZone","_e","changeToLayoutMode","changeToPlayMode","controllImg","ModeZone","_m","script","Home","Instruction","TSViews","onkeydown","e","k","keyMap","has","onkeyup","HelloWorld","bindKey","setAppSize","app","innerHeight","innerWidth","config","productionTip","h","App","$mount"],"mappings":"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","file":"js/app.5f7ae4de.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/gizmo-ball-vue/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePanel.vue?vue&type=style&index=0&id=849369b8&prod&scoped=true&lang=css&\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4c22a492&prod&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Instruction.vue?vue&type=style&index=0&id=4a5f8f2e&prod&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=53f68fe2&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImage.vue?vue&type=style&index=0&id=92cbf116&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeZone.vue?vue&type=style&index=0&id=180a421e&prod&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemZone.vue?vue&type=style&index=0&id=3e798ab6&prod&scoped=true&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{ref:\"app\",attrs:{\"id\":\"app\"}},[_c('Home')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"home\"},[_c('div',{staticClass:\"main test-border\"},[_c('GamePanel')],1),_c('div',{staticClass:\"right-side test-border\"},[_c('div',{staticClass:\"right-top test-border\"},[_c('ItemZone')],1),_c('div',{staticClass:\"right-middle test-border\"},[_c('ToolZone')],1),_c('div',{staticClass:\"right-bottom test-border\"},[_c('ModeZone')],1)]),_c('div',{staticClass:\"instruction\"},[_c('Instruction')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"game-panel\"},[_c('div',{ref:\"game-grid\",staticClass:\"game-grid\",staticStyle:{\"background-image\":\"url(img/grid.png)\"},on:{\"click\":function($event){return _vm.onPanelClick()},\"drop\":_vm.onDrop,\"dragover\":function($event){$event.preventDefault();return _vm.onDragover.apply(null, arguments)},\"dragenter\":function($event){$event.preventDefault();}}},_vm._l((_vm.items),function(item,index){return _c('ItemImage',{key:index,attrs:{\"item\":item,\"selected\":_vm.currentItemId === item.id},nativeOn:{\"click\":function($event){$event.stopPropagation();return _vm.onImgClick(item)}}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('img',{ref:\"img\",class:_vm.cssClass,style:(`position: absolute;top:${_vm.item.position.y}px;left:${_vm.item.position.x}px;z-index:${_vm.zindex};transform: rotate(${_vm.rotation}deg)`),attrs:{\"src\":_vm.item.imgURL,\"width\":`${_vm.width}px`,\"height\":`${_vm.height}px`,\"draggable\":_vm.imageDraggable},on:{\"dragstart\":function($event){return _vm.onDragstart($event)},\"dragend\":function($event){return _vm.onDragend()}}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Angle } from \".\";\n\nexport class Vector2D {\n  constructor(public x: number, public y: number) {}\n\n  /**\n   * v\n   */\n  public equals(v: Vector2D): boolean {\n    return Vector2D.equals(this, v);\n  }\n\n  /**\n   * \n   */\n  public clone(): Vector2D {\n    return Vector2D.copy(this);\n  }\n\n  /**\n   * v,\n   */\n  public add(v: Vector2D): Vector2D {\n    this.x += v.x;\n    this.y += v.y;\n    return this;\n  }\n\n  /**\n   * v/v,\n   */\n  public as(v: Vector2D): Vector2D {\n    this.x = v.x;\n    this.y = v.y;\n    return this;\n  }\n\n  /**\n   * n,\n   */\n  public mult(n: number): Vector2D {\n    this.x *= n;\n    this.y *= n;\n    return this;\n  }\n\n  /**\n   * v/\n   */\n  public dot(v: Vector2D): number {\n    return Vector2D.dot(this, v);\n  }\n\n  /**\n   * \n   */\n  get radius(): number {\n    return Vector2D.radius(this);\n  }\n\n  /**\n   * ,,:\n   */\n  get normalVector(): Vector2D {\n    return Vector2D.normalVector(this);\n  }\n\n  /**\n   * ,\n   */\n  get unitVector(): Vector2D {\n    return Vector2D.unitization(this);\n  }\n\n  /**\n   * v\n   */\n  public projection(v: Vector2D): number {\n    return Vector2D.projection(this, v);\n  }\n\n  /**\n   * axis,\n   */\n  public component(axis: Vector2D): Vector2D {\n    return Vector2D.vectorProjection(this, axis);\n  }\n\n  /**\n   * angle,\n   */\n  public vectorRotate(angle: Angle): Vector2D {\n    return this.as(Vector2D.vectorRotate(this, angle));\n  }\n\n  /**\n   * ,centerangle,\n   */\n  public pointRotate(center: Vector2D, angle: Angle): Vector2D {\n    return this.as(Vector2D.pointRotate(this, center, angle));\n  }\n\n  /**\n   * direction\n   * @param direction \n   */\n  public directionRotate(direction: Vector2D): Vector2D {\n    return this.as(direction.clone().mult(this.radius / direction.radius));\n  }\n\n  /**\n   * axis,\n   * @param axis \n   */\n  public reflet(axis: Vector2D): Vector2D {\n    return this.as(Vector2D.reflect(this, axis));\n  }\n\n  /**\n   * \n   */\n  public static add(v1: Vector2D, v2: Vector2D): Vector2D {\n    return new Vector2D(v1.x + v2.x, v1.y + v2.y);\n  }\n\n  /**\n   * \n   */\n  public static difference(v1: Vector2D, v2: Vector2D): Vector2D {\n    return new Vector2D(v1.x - v2.x, v1.y - v2.y);\n  }\n\n  /**\n   * \n   */\n  public static negate(v: Vector2D): Vector2D {\n    return new Vector2D(-v.x, -v.y);\n  }\n\n  /**\n   * \n   */\n  public static mult(v: Vector2D, n: number): Vector2D {\n    return new Vector2D(v.x * n, v.y * n);\n  }\n\n  /**\n   * \n   */\n  public static dot(v1: Vector2D, v2: Vector2D): number {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n\n  /**\n   * \n   */\n  public static radius(v: Vector2D): number {\n    return Math.sqrt(Vector2D.dot(v, v));\n  }\n\n  /**\n   * \n   */\n  public static unitization(v: Vector2D): Vector2D {\n    if (v.equals(Vector2D.ZERO)) {\n      throw new Error(\"cannot get unitization of zero vector\");\n    }\n    return v.clone().mult(1 / v.radius);\n  }\n\n  /**\n   * \n   */\n  public static projection(v1: Vector2D, v2: Vector2D): number {\n    return Vector2D.dot(v1, v2) / v2.radius;\n  }\n\n  /**\n   * \n   */\n  public static vectorProjection(v: Vector2D, axis: Vector2D): Vector2D {\n    return axis.clone().mult(v.dot(axis) / axis.dot(axis));\n  }\n\n  /**\n   * \n   */\n  public static angle(v1: Vector2D, v2: Vector2D): number {\n    return Math.acos(Vector2D.dot(v1, v2) / (v1.radius * v2.radius));\n  }\n\n  /**\n   * \n   */\n  public static copy(v: Vector2D): Vector2D {\n    return new Vector2D(v.x, v.y);\n  }\n\n  /**\n   * \n   */\n  public static get ZERO(): Vector2D {\n    return new Vector2D(0, 0);\n  }\n\n  /**\n   * \n   */\n  public static equals(v1: Vector2D, v2: Vector2D): boolean {\n    return v1.x === v2.x && v1.y === v2.y;\n  }\n\n  /**\n   * ,:\n   */\n  public static normalVector(v: Vector2D): Vector2D {\n    return new Vector2D(v.y, -v.x);\n  }\n\n  /**\n   * \n   */\n  public static vectorRotate(v: Vector2D, angle: Angle): Vector2D {\n    const a: number = angle.value;\n    const cos: number = Math.cos(a),\n      sin: number = Math.sin(a);\n    switch (angle.special) {\n      case \"right-angle\":\n        return new Vector2D(-v.y, v.x);\n      case \"right-angle-reverse\":\n        return new Vector2D(v.y, -v.x);\n      case \"\":\n        return new Vector2D(v.x * cos - v.y * sin, v.y * cos + v.x * sin);\n    }\n  }\n\n  /**\n   * \n   * @param p \n   * @param center \n   * @param angle \n   */\n  public static pointRotate(\n    p: Vector2D,\n    center: Vector2D,\n    angle: Angle\n  ): Vector2D {\n    return Vector2D.difference(p, center)\n      .vectorRotate(angle)\n      .add(center);\n  }\n\n  /**\n   * \n   * @param v \n   * @param axis \n   */\n  public static reflect(v: Vector2D, axis: Vector2D): Vector2D {\n    return v\n      .component(axis)\n      .mult(-2)\n      .add(v);\n  }\n\n  /**\n   * \n   * @param vectors \n   */\n  public static sum(vectors: Vector2D[] | Map<any, Vector2D>): Vector2D {\n    const sum: Vector2D = Vector2D.ZERO;\n    vectors.forEach((vertex: Vector2D): void => {\n      sum.add(vertex);\n    });\n    return sum;\n  }\n\n  public static average(vectors: Vector2D[]) {\n    if (vectors.length) {\n      return Vector2D.sum(vectors).mult(1 / vectors.length);\n    }\n    return Vector2D.ZERO;\n  }\n\n  /**\n   * \n   * @param polygon \n   */\n  public static center(polygon: Vector2D[]): Vector2D {\n    return Vector2D.sum(polygon).mult(1 / polygon.length);\n  }\n}\n","import { Vector2D } from \".\";\n\nexport enum Direction {\n  Up,\n  Right,\n  Down,\n  Left\n}\nexport class Line {\n  /**\n   * \n   */\n  get directionVector(): Vector2D {\n    return Vector2D.difference(this.p1, this.p2);\n  }\n\n  /**\n   * ,:\n   */\n  get normalVector(): Vector2D {\n    return this.directionVector.normalVector;\n  }\n  constructor(public readonly p1: Vector2D, public readonly p2: Vector2D) {\n    if (p1.equals(p2)) {\n      throw new Error(\"Points cannot be the same!\");\n    }\n  }\n\n  /**\n   * \n   */\n  public distance(point: Vector2D): number {\n    const v1: Vector2D = Vector2D.difference(point, this.p1);\n    const n: Vector2D = this.normalVector;\n    return Math.abs(v1.projection(n));\n  }\n\n  /**\n   * \n   */\n  public clone(): Line {\n    return new Line(this.p1.clone(), this.p2.clone());\n  }\n}\n\nexport class Angle {\n  constructor(\n    public readonly special: \"\" | \"right-angle\" | \"right-angle-reverse\",\n    public readonly value: number\n  ) {}\n  public static readonly RIGHT_ANGLE: Angle = new Angle(\n    \"right-angle\",\n    Math.PI / 2\n  );\n  public static readonly RIGHT_ANGLE_REVERSE: Angle = new Angle(\n    \"right-angle-reverse\",\n    0 - Math.PI / 2\n  );\n}\n","import { Vector2D } from \".\";\n\n/**\n * `gravity` \n *\n * `pipe` \n *\n * `centripetal` \n */\ntype AccelerationType = \"gravity\" | \"pipe\" | \"centripetal\";\n\nexport class Physical {\n  public static get gravity(): Vector2D {\n    return new Vector2D(0, 15);\n  }\n  public static readonly tick: number = 0.025;\n  public static readonly pipeAcc: Vector2D = Vector2D.negate(Physical.gravity);\n\n  /**\n   * \n   * @param massPoint \n   * @param axis \n   */\n  public static surfaceVelocityReflect(\n    massPoint: MassPoint,\n    axis: Vector2D\n  ): void {\n    const v: Vector2D = massPoint.v;\n    if (v.dot(axis) < 0) {\n      massPoint.move(-Physical.tick);\n      massPoint.setVelocity(massPoint.v.reflet(axis));\n    }\n  }\n\n  /**\n   * \n   * @param m1 1\n   * @param m2 2\n   */\n  public static perfectElasticCollision(m1: MassPoint, m2: MassPoint): void {\n    const v1: Vector2D = m1.v,\n      v2: Vector2D = m2.v,\n      axis: Vector2D = Vector2D.difference(m2.p, m1.p),\n      reflectLine: Vector2D = axis.normalVector;\n    if (axis.dot(v1) > 0) {\n      // \n      const newV1: Vector2D = v2.component(axis).add(v1.component(reflectLine));\n      const newV2: Vector2D = v1.component(axis).add(v2.component(reflectLine));\n      m1.setVelocity(newV1);\n      m2.setVelocity(newV2);\n    }\n  }\n\n  public static centripetalAcceleration(\n    massPoint: MassPoint,\n    radius: number,\n    center: Vector2D\n  ): Vector2D {\n    const v: Vector2D = massPoint.v;\n    const value: number = v.dot(v) / radius;\n    return Vector2D.difference(center, massPoint.p).unitVector.mult(value);\n  }\n}\n\nexport class MassPoint {\n  private _p: Vector2D;\n  private _v: Vector2D;\n  private _a: Vector2D;\n  private _accRecord: Map<AccelerationType, Vector2D>;\n  constructor() {\n    this._a = new Vector2D(0, 0);\n    this._v = new Vector2D(0, 0);\n    this._p = new Vector2D(0, 0);\n    this._accRecord = new Map<AccelerationType, Vector2D>([\n      [\"gravity\", Physical.gravity],\n      [\"centripetal\", new Vector2D(0, 0)],\n      [\"pipe\", new Vector2D(0, 0)]\n    ]);\n  }\n  get p(): Vector2D {\n    return Vector2D.copy(this._p);\n  }\n  get v(): Vector2D {\n    return Vector2D.copy(this._v);\n  }\n  get a(): Vector2D {\n    return Vector2D.copy(this._a);\n  }\n\n  public tick(): void {\n    this.changeVelocity();\n    this.move();\n  }\n\n  /**\n   * \n   * @param p \n   */\n  public translate(p: Vector2D): MassPoint {\n    this._p = p.clone();\n    return this;\n  }\n\n  /**\n   * \n   * @param t \n   */\n  public move(t: number = Physical.tick): MassPoint {\n    this._p.add(Vector2D.mult(this._v, t));\n    return this;\n  }\n\n  /**\n   * \n   * @param t \n   */\n  public changeVelocity(t: number = Physical.tick): MassPoint {\n    this._v.add(Vector2D.mult(this._a, t));\n    if (this._v.radius >= 200) {\n      this._v.mult(200 / this._v.radius);\n    }\n    return this;\n  }\n\n  /**\n   * \n   * @param v \n   */\n  public setVelocity(v: Vector2D): MassPoint {\n    this._v.as(v);\n    return this;\n  }\n\n  /**\n   * \n   * @param v \n   */\n  public addVelocity(v: Vector2D): MassPoint {\n    this._v.add(v);\n    return this;\n  }\n\n  // /**\n  //  * \n  //  * @param a \n  //  */\n  // public addAcceleration(a: Vector2D):MassPoint {\n  //   this._a.add(a);\n  //   return this;\n  // }\n\n  /**\n   * \n   * @param accType \n   * @param a \n   */\n  public setAcceleration(accType: AccelerationType, a: Vector2D): MassPoint {\n    this._accRecord.set(accType, a);\n    const v = Vector2D.sum(this._accRecord);\n    this._a = v;\n    return this;\n  }\n\n  // /**\n  //  * \n  //  * @param a \n  //  */\n  // public setAccelerationT(a: Vector2D):MassPoint {\n  //   this._a.as(a);\n  //   return this;\n  // }\n}\n","import { Vector2D, Angle, Line } from \".\";\nimport { Direction } from \"./geometry\";\nimport {\n  ICollisible,\n  ITransmittable,\n  IRotatable,\n  IZoomable\n} from \"../interfaces\";\nimport { Ball } from \"../mapitems/ball\";\nimport { Physical } from \"./kinematics\";\n\nexport abstract class Collider\n  implements ICollisible, ITransmittable, IRotatable, IZoomable {\n  public abstract crashDetect(crashable: ICollisible): boolean;\n  public abstract crashHandle(crashable: ICollisible): void;\n\n  protected _position!: Vector2D;\n  public get position(): Vector2D {\n    return this._position.clone();\n  }\n  public set position(position: Vector2D) {\n    this.translate(position);\n  }\n  public abstract get center(): Vector2D;\n  public abstract translate(point: Vector2D): ITransmittable;\n\n  protected _rotation: Direction = Direction.Up;\n  public get rotation(): Direction {\n    return this._rotation;\n  }\n  public set rotation(rotation: Direction) {\n    const times: number = (this._rotation - rotation + 4) % 4;\n    for (let i = 0; i < times; i++) {\n      this.rotate(this.center, Angle.RIGHT_ANGLE_REVERSE);\n    }\n    this._rotation = rotation;\n  }\n  public abstract rotate(center: Vector2D, angle: Angle): IRotatable;\n\n  protected _zoom = 1;\n  public get zoom(): number {\n    return this._zoom;\n  }\n\n  public set zoom(zoom: number) {\n    if (zoom <= 0) {\n      throw new Error(\"Zoom value must be positive\");\n    }\n    this.zoomTo(this.position, zoom);\n  }\n  public abstract zoomTo(zoomCenter: Vector2D, zoom: number): IZoomable;\n}\n\nexport class PolygonCollider extends Collider {\n  protected _edges: Line[];\n\n  /**\n   * \n   */\n  public get edges(): Line[] {\n    return this._edges.map(item => item.clone());\n  }\n\n  /**\n   * \n   */\n  public get vertexes(): Vector2D[] {\n    return this._vertexes.map(item => item.clone());\n  }\n\n  public get center(): Vector2D {\n    return Vector2D.average(this._vertexes);\n  }\n\n  constructor(\n    // \n    protected _vertexes: Vector2D[],\n    // \n    protected _position: Vector2D = Vector2D.ZERO\n  ) {\n    super();\n    this._edges = this._vertexes.map(\n      (item, index, array) => new Line(item, array[(index + 1) % array.length])\n    );\n  }\n\n  public zoomTo(zoomCenter: Vector2D, zoom: number): IZoomable {\n    if (zoom !== this._zoom) {\n      this._vertexes.forEach(value =>\n        value.as(\n          Vector2D.add(\n            zoomCenter,\n            Vector2D.difference(value, zoomCenter).mult(zoom / this._zoom)\n          )\n        )\n      );\n    }\n    this._zoom = zoom;\n    return this;\n  }\n\n  public rotate(center: Vector2D, angle: Angle): IRotatable {\n    this._vertexes.forEach(value => value.pointRotate(center, angle));\n    switch (angle.special) {\n      case \"right-angle-reverse\":\n        this._rotation = (this._rotation - 1 + 4) % 4;\n        break;\n      case \"right-angle\":\n        this._rotation = (this._rotation + 1) % 4;\n        break;\n      case \"\":\n        break;\n    }\n    return this;\n  }\n\n  public translate(point: Vector2D): ITransmittable {\n    this._vertexes.forEach(value =>\n      value.add(Vector2D.difference(point, this._position))\n    );\n    this._position = point.clone();\n    return this;\n  }\n\n  public crashDetect(crashable: ICollisible): boolean {\n    if (crashable instanceof PolygonCollider) {\n      const edges: Line[] = crashable.edges;\n      const axes: Vector2D[] = [];\n      for (const edge of edges) {\n        axes.push(edge.normalVector);\n      }\n      if (axes.length === 0) {\n        return PolygonCollider.polygonCollidesWithCircle(this, crashable);\n      } else {\n        for (const edge of this.edges) {\n          axes.push(edge.normalVector);\n        }\n        return !this.separationOnAxes(axes, crashable);\n      }\n    }\n    return false;\n  }\n\n  public static polygonCollidesWithCircle(\n    polygon: ICollisible,\n    circle: ICollisible\n  ): boolean {\n    if (\n      polygon instanceof PolygonCollider &&\n      circle instanceof CircleCollider\n    ) {\n      const closestPoint: Vector2D = PolygonCollider.getPolygonPointClosestToCircle(\n        polygon,\n        circle\n      );\n      const edges: Line[] = polygon.edges;\n      const axes: Vector2D[] = [];\n      if (closestPoint !== undefined) {\n        for (const edge of edges) {\n          axes.push(edge.normalVector);\n        }\n        axes.push(Vector2D.difference(closestPoint, circle.center));\n        return !polygon.separationOnAxes(axes, circle);\n      }\n    }\n    return false;\n  }\n\n  public separationOnAxes(\n    axes: Vector2D[],\n    crashable: PolygonCollider\n  ): boolean {\n    for (const i of axes) {\n      const projection1: Vector2D = this.project(i);\n      const projection2: Vector2D = crashable.project(i);\n      if (!(projection1.y > projection2.x && projection2.y > projection1.x)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  public project(axis: Vector2D): Vector2D {\n    const scalars: number[] = [];\n    const v: Vector2D = new Vector2D(0, 0);\n    this.vertexes.forEach(point => {\n      v.x = point.x;\n      v.y = point.y;\n      scalars.push(v.projection(axis));\n    });\n    return new Vector2D(\n      Math.min.apply(Math, scalars),\n      Math.max.apply(Math, scalars)\n    );\n  }\n\n  public static getPolygonPointClosestToCircle(\n    polygon: PolygonCollider,\n    circle: CircleCollider | Ball\n  ): Vector2D {\n    let min = 100000;\n    const vertexes: Vector2D[] = polygon.vertexes;\n    let closestPoint: Vector2D = vertexes[0];\n    for (const point of vertexes) {\n      const length: number = Vector2D.difference(circle.center, point).radius;\n      if (min > length) {\n        min = length;\n        closestPoint = point;\n      }\n    }\n    return closestPoint;\n  }\n\n  public static outPointProjectionOnEdge(edge: Line, point: Vector2D): boolean {\n    const v1: Vector2D = Vector2D.difference(point, edge.p1),\n      v2: Vector2D = Vector2D.difference(point, edge.p2),\n      axis: Vector2D = edge.normalVector;\n    if (v1.dot(axis) <= 0 || v2.dot(axis) <= 0) {\n      // \n      return false;\n    } else {\n      const borderAxis1: Vector2D = Vector2D.difference(edge.p2, edge.p1),\n        borderAxis2: Vector2D = Vector2D.negate(borderAxis1);\n      // \n      return borderAxis1.dot(v1) >= 0 && borderAxis2.dot(v2) >= 0;\n    }\n  }\n\n  public crashHandle(crashable: ICollisible): void {\n    if (crashable instanceof Ball) {\n      let refletLine: Line | null = null;\n      const ballPos: Vector2D = crashable.massPoint.p.add(\n        crashable.massPoint.v.mult(-Physical.tick)\n      );\n      for (const value of this._edges) {\n        if (refletLine === null) {\n          if (PolygonCollider.outPointProjectionOnEdge(value, ballPos)) {\n            refletLine = value;\n            break;\n          }\n        }\n      }\n      if (refletLine !== null) {\n        const axis: Vector2D = refletLine.normalVector;\n        Physical.surfaceVelocityReflect(crashable.massPoint, axis);\n      } else {\n        const closestPoint: Vector2D = PolygonCollider.getPolygonPointClosestToCircle(\n          this,\n          crashable\n        );\n        Physical.surfaceVelocityReflect(\n          crashable.massPoint,\n          Vector2D.difference(crashable.center, closestPoint)\n        );\n      }\n    }\n  }\n}\n\nexport class CircleCollider extends PolygonCollider {\n  constructor(position: Vector2D, protected _radius: number) {\n    super([], position.clone());\n  }\n\n  /**\n   * \n   */\n  get radius(): number {\n    return this.zoom * this._radius;\n  }\n\n  /**\n   * \n   */\n  get center(): Vector2D {\n    return this.position.add(new Vector2D(this.radius, this.radius));\n  }\n\n  public project(axis: Vector2D): Vector2D {\n    const scalars: number[] = [];\n    const point: Vector2D = this.center;\n    const dotProduct: number = point.projection(axis);\n    scalars.push(dotProduct);\n    scalars.push(dotProduct - this.radius);\n    scalars.push(dotProduct + this.radius);\n    return new Vector2D(\n      Math.min.apply(Math, scalars),\n      Math.max.apply(Math, scalars)\n    );\n  }\n\n  public crashDetect(crashable: ICollisible): boolean {\n    if (crashable instanceof PolygonCollider) {\n      const edges: Line[] = crashable.edges;\n      const axes: Vector2D[] = [];\n      for (const edge of edges) {\n        axes.push(edge.normalVector);\n      }\n      if (axes.length === 0 && crashable instanceof CircleCollider) {\n        const distance: number = Vector2D.difference(\n          this.center,\n          crashable.center\n        ).radius;\n        return distance < Math.abs(this.radius + crashable.radius);\n      } else {\n        return PolygonCollider.polygonCollidesWithCircle(crashable, this);\n      }\n    }\n    return false;\n  }\n\n  public crashHandle(crashable: ICollisible): void {\n    if (crashable instanceof Ball) {\n      const axis = Vector2D.difference(crashable.center, this.center);\n      Physical.surfaceVelocityReflect(crashable.massPoint, axis);\n    }\n  }\n}\n","import { MapItemNames } from \"../enums\";\nimport { ICollisible, ITransmittable } from \"../interfaces\";\nimport { Vector2D, Collider } from \"../physics\";\n\nexport abstract class MapItem implements ICollisible, ITransmittable {\n  abstract get name(): MapItemNames;\n  get center(): Vector2D {\n    return this.collider.center;\n  }\n  translate(point: Vector2D): ITransmittable {\n    this.collider.translate(point);\n    return this;\n  }\n  public crashDetect(collisible: ICollisible): boolean {\n    if (collisible instanceof MapItem) {\n      return this.collider.crashDetect(collisible.collider);\n    }\n    return this.collider.crashDetect(collisible);\n  }\n  public crashHandle(collisible: ICollisible): void {\n    return this.collider.crashHandle(collisible);\n  }\n\n  /**\n   * \n   */\n  public static readonly gridScale: number = 36;\n\n  /**\n   * \n   */\n  public static readonly vertical: Vector2D = new Vector2D(\n    0,\n    MapItem.gridScale\n  );\n\n  /**\n   * \n   */\n  public static readonly horizontal: Vector2D = new Vector2D(\n    MapItem.gridScale,\n    0\n  );\n\n  /**\n   * URL\n   */\n  abstract get imgURL(): string;\n\n  protected static currentID = 0;\n  public readonly id: number;\n\n  constructor(protected collider: Collider) {\n    this.id = ++MapItem.currentID;\n    console.log(`MapItem ${this.id} init`);\n  }\n\n  public get position(): Vector2D {\n    return this.collider.position;\n  }\n  public set position(position: Vector2D) {\n    this.collider.position = position;\n  }\n}\n","import { MapItem } from \"./map-item\";\nimport { MapItemNames } from \"../enums\";\nimport { ICollisible, ITransmittable } from \"../interfaces\";\nimport { Vector2D, CircleCollider } from \"../physics\";\nimport { MassPoint, Physical } from \"../physics/kinematics\";\n\nexport class Ball extends MapItem {\n  public get name(): MapItemNames {\n    return Ball.Name;\n  }\n  public get center(): Vector2D {\n    return this.collider.center;\n  }\n  public massPoint: MassPoint;\n  public pipeID = -1;\n  public crashHandle(crashable: ICollisible): void {\n    if (crashable instanceof Ball) {\n      Physical.perfectElasticCollision(this.massPoint, crashable.massPoint);\n    } else {\n      super.crashHandle(crashable);\n    }\n  }\n\n  public translate(p: Vector2D): ITransmittable {\n    super.translate(p);\n    this.massPoint.translate(this.center);\n    return this;\n  }\n  public static readonly Name: MapItemNames = \"ball\";\n  public static readonly imageUrl: string = \"img/item/ball.png\";\n\n  get imgURL(): string {\n    return Ball.imageUrl;\n  }\n\n  constructor(x: number, y: number) {\n    super(new CircleCollider(new Vector2D(x, y), MapItem.gridScale / 2));\n    this.massPoint = new MassPoint();\n    this.massPoint.translate(this.center);\n  }\n}\n","import { MapItemNames } from \"../enums\";\n\nexport interface ViewItem {\n  typeValue: ItemType;\n  img: string;\n}\n\nexport function isViewItem(obj: any): obj is ViewItem {\n  return obj.typeValue !== undefined;\n}\n\nexport interface MapElement {\n  x: number;\n  y: number;\n  typeValue: ItemType;\n  img: string;\n}\n\nexport type ItemType = \"select\" | MapItemNames;\n\nexport const gridLength = 35;\n\nexport const gridLineLength = 1;\n\nexport const sampleItem: ViewItem = {\n  typeValue: \"select\",\n  img: \"img/item/select.png\"\n};\nexport const selectItem: ViewItem = {\n  typeValue: \"select\",\n  img: \"img/item/select.png\"\n};\nexport const ballItem: ViewItem = {\n  typeValue: \"ball\",\n  img: \"img/item/ball.png\"\n};\nexport const absorberItem: ViewItem = {\n  typeValue: \"absorber\",\n  img: \"img/item/absorber.png\"\n};\nexport const triangleItem: ViewItem = {\n  typeValue: \"triangle\",\n  img: \"img/item/triangle.png\"\n};\nexport const circleItem: ViewItem = {\n  typeValue: \"circle\",\n  img: \"img/item/circle.png\"\n};\nexport const squareItem: ViewItem = {\n  typeValue: \"square\",\n  img: \"img/item/square.png\"\n};\nexport const pipeItem: ViewItem = {\n  typeValue: \"pipe\",\n  img: \"img/item/pipe_normal.png\"\n};\nexport const pipeTurnedItem: ViewItem = {\n  typeValue: \"pipe-turned\",\n  img: \"img/item/pipe_turned.png\"\n};\nexport const baffleAlphaItem: ViewItem = {\n  typeValue: \"baffle-alpha\",\n  img: \"img/item/baffle-mid.png\"\n};\nexport const baffleBetaItem: ViewItem = {\n  typeValue: \"baffle-beta\",\n  img: \"img/item/baffle-mid.png\"\n};\nexport const sampleItems: ViewItem[] = [sampleItem, ballItem];\nexport const itemss: ViewItem[][] = [\n  [selectItem, ballItem],\n  [absorberItem, triangleItem],\n  [circleItem, squareItem],\n  [pipeItem, pipeTurnedItem],\n  [baffleAlphaItem, baffleBetaItem]\n];\n\nconst itemMap: Record<ItemType, ViewItem> = {\n  absorber: absorberItem,\n  \"baffle-alpha\": baffleAlphaItem,\n  \"baffle-beta\": baffleBetaItem,\n  ball: ballItem,\n  circle: circleItem,\n  pipe: pipeItem,\n  \"pipe-turned\": pipeTurnedItem,\n  select: selectItem,\n  square: squareItem,\n  triangle: triangleItem,\n  border: selectItem\n};\nexport function getViewItemByType(typeValue: ItemType): ViewItem {\n  return itemMap[typeValue];\n}\n\nexport const Gizmo = {\n  gridLength, gridLineLength, sampleItem,\n  selectItem, ballItem, absorberItem, triangleItem, circleItem, squareItem, pipeItem, pipeTurnedItem,\n  baffleAlphaItem, baffleBetaItem, sampleItems: [sampleItem, ballItem],\n  itemss: [\n    [selectItem, ballItem],\n    [absorberItem, triangleItem],\n    [circleItem, squareItem],\n    [pipeItem, pipeTurnedItem],\n    [baffleAlphaItem, baffleBetaItem]\n  ], itemMap: {\n    absorber: absorberItem,\n    \"baffle-alpha\": baffleAlphaItem,\n    \"baffle-beta\": baffleBetaItem,\n    ball: ballItem,\n    circle: circleItem,\n    pipe: pipeItem,\n    \"pipe-turned\": pipeTurnedItem,\n    select: selectItem,\n    square: squareItem,\n    triangle: triangleItem,\n    border: selectItem\n  }, getViewItemByType(typeValue: ItemType): ViewItem {\n    return itemMap[typeValue];\n  }\n}\n","import { ViewItem, Gizmo } from \"@/core/constants/gizmo\";\nimport { MapItem } from \"@/core/mapitems/map-item\";\nimport { Vector2D } from \"@/core/physics\";\nimport TSViews from \"@/views/TSViews\";\n\nexport interface Module1State {\n  useLightTheme: boolean;\n  currentMode: \"LAYOUT\" | \"PLAY\";\n  currentState: \"PAUSE\" | \"PLAYING\";\n  draggingItem: MapItem | ViewItem | null;\n  draggingItemOffset: Vector2D;\n  toolZoneCurrentItem: ViewItem;\n  panelCurrentItem: MapItem | null;\n}\n\nexport default {\n  state: {\n    useLightTheme: true,\n    currentMode: \"LAYOUT\",\n    currentState: \"PAUSE\",\n    draggingItem: null,\n    draggingItemOffset: new Vector2D(0, 0),\n    toolZoneCurrentItem: Gizmo.selectItem,\n    panelCurrentItem: null\n  } as Module1State,\n  mutations: {\n    changeTheme(state: Module1State, useLight: boolean) {\n      state.useLightTheme = useLight;\n      const theme: string = useLight ? \"light\" : \"dark\";\n      document\n        .getElementById(\"app-skin\")\n        ?.setAttribute(\"href\", `skin/${theme}/skin.css`);\n    },\n    changeMode(state: Module1State, currentMode: \"LAYOUT\" | \"PLAY\") {\n      state.currentMode = currentMode;\n    },\n    changeState(state: Module1State, currentState: \"PAUSE\" | \"PLAYING\") {\n      state.currentState = currentState;\n    },\n    changeDraggingItem(\n      state: Module1State,\n      draggingItem: MapItem | ViewItem | null\n    ) {\n      state.draggingItem = draggingItem;\n    },\n    changeDraggingItemOffset(\n      state: Module1State,\n      draggingItemOffset: Vector2D\n    ) {\n      state.draggingItemOffset = draggingItemOffset;\n    },\n    changeToolZoneCurrentItem(\n      state: Module1State,\n      toolZoneCurrentItem: ViewItem\n    ) {\n      state.toolZoneCurrentItem = toolZoneCurrentItem;\n      if (toolZoneCurrentItem.typeValue !== \"select\") {\n        state.panelCurrentItem == null;\n      }\n    },\n    changePanelCurrentItem(\n      state: Module1State,\n      panelCurrentItem: MapItem | null\n    ) {\n      state.panelCurrentItem = panelCurrentItem;\n    }\n  },\n  actions: {},\n  modules: {}\n} as const;\n","import Vue from \"vue\";\nimport Vuex from \"vuex\";\nimport { createDirectStore } from \"direct-vuex\";\nimport module1 from \"./module1\";\n\nVue.use(Vuex);\n\nconst { store, rootActionContext, moduleActionContext } = createDirectStore({\n  modules: {\n    module1\n  }\n} as const);\n\nexport default store;\n\nexport { rootActionContext, moduleActionContext };\n\nexport type AppStore = typeof store;\ndeclare module \"vuex\" {\n  interface Store<S> {\n    direct: AppStore;\n  }\n}\n","import { IRotatable, IZoomable } from \"../interfaces\";\n\nexport function isRotatable(obj: any): obj is IRotatable {\n  return obj.rotate !== undefined;\n}\n\nexport function isZoomable(obj: any): obj is IZoomable {\n  return obj.zoomTo !== undefined;\n}\n","\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport { MapItem } from \"@/core/mapitems/map-item\";\nimport { Ball } from \"@/core/mapitems/ball\";\nimport store from \"@/store\";\nimport { Vector2D } from \"@/core/physics\";\nimport { Gizmo } from \"@/core/constants/gizmo\";\nimport { isRotatable, isZoomable } from \"@/core/common\";\n\n@Component\nexport default class ItemImage extends Vue {\n  @Prop() private item!: MapItem;\n  @Prop() private selected!: boolean;\n\n  $refs!: {\n    img: HTMLElement;\n  };\n\n  get cssClass(): string {\n    return this.selected ? \"pick-box\" : \"\";\n  }\n\n  get rotation(): number {\n    if (isRotatable(this.item)) {\n      return this.item.rotation * 90;\n    }\n    return 0;\n  }\n\n  get zindex(): number {\n    if (this.item instanceof Ball) {\n      return 100;\n    } else {\n      return 1;\n    }\n  }\n\n  private readonly defaultSize: number =\n    Gizmo.gridLength + Gizmo.gridLineLength;\n\n  get width(): number {\n    let base: number = this.defaultSize;\n    if (this.item.name === \"baffle-alpha\" || this.item.name === \"baffle-beta\") {\n      base = base * 2 - 1;\n    }\n    let result: number = base - 1;\n    if (isZoomable(this.item)) {\n      result = this.item.zoom * base - 1;\n    }\n    return result;\n  }\n\n  get height(): number {\n    let result: number = this.defaultSize - 1;\n    if (isZoomable(this.item)) {\n      result = this.item.zoom * this.defaultSize - 1;\n    }\n    return result;\n  }\n\n  get imageDraggable(): boolean {\n    const m = store.state.module1;\n    if (\n      m.currentMode == \"LAYOUT\" &&\n      m.toolZoneCurrentItem.typeValue == \"select\"\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  onDragstart(event: DragEvent) {\n    store.commit.changeDraggingItemOffset(\n      new Vector2D(event.offsetX, event.offsetY)\n    );\n    store.commit.changeDraggingItem(this.item);\n  }\n\n  onDragend() {\n    store.commit.changeDraggingItem(null);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemImage.vue?vue&type=template&id=92cbf116&scoped=true&\"\nimport script from \"./ItemImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemImage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemImage.vue?vue&type=style&index=0&id=92cbf116&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"92cbf116\",\n  null\n  \n)\n\nexport default component.exports","import { Direction } from \"../physics\";\nimport { MapItem } from \"./map-item\";\nimport { IRotatable, IZoomable } from \"../interfaces\";\nimport { PolygonCollider, Vector2D, Angle } from \"../physics\";\n\nexport abstract class PolygonMapItem extends MapItem\n  implements IRotatable, IZoomable {\n  constructor(protected collider: PolygonCollider) {\n    super(collider);\n  }\n  get zoom(): number {\n    return this.collider.zoom;\n  }\n  zoomTo(zoomCenter: Vector2D, zoom: number): IZoomable {\n    this.collider.zoomTo(zoomCenter, zoom);\n    return this;\n  }\n  get rotation(): Direction {\n    return this.collider.rotation;\n  }\n  set rotation(rotation: Direction) {\n    this.collider.rotation = rotation;\n  }\n  rotate(center: Vector2D, angle: Angle): IRotatable {\n    this.collider.rotate(center, angle);\n    return this;\n  }\n  public get center(): Vector2D {\n    return this.collider.center;\n  }\n}\n","import { MapItem } from \"./map-item\";\nimport { MapItemNames } from \"../enums\";\nimport { PolygonCollider, Vector2D } from \"../physics\";\nimport { PolygonMapItem } from \"./polygon\";\n\nexport class SquareCollider extends PolygonCollider {\n  public get center(): Vector2D {\n    return this.position.add(\n      MapItem.vertical\n        .clone()\n        .add(MapItem.horizontal)\n        .mult(0.5 * this.zoom)\n    );\n  }\n  constructor(position: Vector2D) {\n    super(\n      [\n        position.clone(),\n        position.clone().add(MapItem.vertical),\n        position\n          .clone()\n          .add(MapItem.horizontal)\n          .add(MapItem.vertical),\n        position.clone().add(MapItem.horizontal)\n      ],\n      position\n    );\n  }\n}\n\nexport class SquareMapItem extends PolygonMapItem {\n  public get name(): MapItemNames {\n    return SquareMapItem.Name;\n  }\n  get imgURL(): string {\n    return SquareMapItem.imageUrl;\n  }\n\n  public static readonly Name: MapItemNames = \"square\";\n  public static readonly imageUrl: string = \"img/item/square.png\";\n\n  constructor(x: number, y: number) {\n    super(new SquareCollider(new Vector2D(x, y)));\n  }\n}\n","import Controller from \"../controller/Controller\";\nimport { MapItemNames } from \"../enums\";\nimport { ICollisible } from \"../interfaces\";\nimport { Vector2D } from \"../physics\";\nimport { Ball } from \"./ball\";\nimport { PolygonMapItem } from \"./polygon\";\nimport { SquareCollider } from \"./square\";\n\nexport class AbsorberMapItem extends PolygonMapItem {\n  public static readonly imageURL: string = \"img/item/absorber.png\";\n  public static readonly Name: MapItemNames = \"absorber\";\n  get name(): MapItemNames {\n    return AbsorberMapItem.Name;\n  }\n  get imgURL(): string {\n    return AbsorberMapItem.imageURL;\n  }\n  constructor(x: number, y: number) {\n    super(new SquareCollider(new Vector2D(x, y)));\n  }\n  public crashHandle(ball: ICollisible): void {\n    if (ball instanceof Ball) {\n      Controller.getInstance().handleAbsorb(ball.id);\n    }\n  }\n}\n","import { MapItemNames } from \"../enums\";\nimport { PolygonCollider, Vector2D } from \"../physics\";\nimport { MapItem } from \"./map-item\";\n\nexport class BaffleCollider extends PolygonCollider {\n  constructor(position: Vector2D) {\n    const vertical: Vector2D = MapItem.vertical.clone().mult(0.25);\n    const horizontal: Vector2D = MapItem.horizontal.clone().mult(2);\n    super(\n      [\n        position.clone(),\n        position.clone().add(vertical),\n        position\n          .clone()\n          .add(horizontal)\n          .add(vertical),\n        position.clone().add(horizontal)\n      ],\n      position\n    );\n  }\n}\n\nexport abstract class BaffleMapItem extends MapItem {\n  get imgURL(): string {\n    return BaffleMapItem.imageURL;\n  }\n\n  public static readonly imageURL: string = \"img/item/baffle.png\";\n\n  constructor(x: number, y: number) {\n    super(new BaffleCollider(new Vector2D(x, y)));\n  }\n\n  public move(offset: Vector2D): BaffleMapItem {\n    this.translate(this.position.add(offset));\n    return this;\n  }\n}\n\nexport class BaffleAlphaMapItem extends BaffleMapItem {\n  get name(): MapItemNames {\n    return BaffleAlphaMapItem.Name;\n  }\n  public static readonly Name: MapItemNames = \"baffle-alpha\";\n}\n\nexport class BaffleBetaMapItem extends BaffleMapItem {\n  get name(): MapItemNames {\n    return BaffleBetaMapItem.Name;\n  }\n  public static readonly Name: MapItemNames = \"baffle-beta\";\n}\n","import Controller from \"../controller/Controller\";\nimport { MapItemNames } from \"../enums\";\nimport {\n  ICollisible,\n  ITransmittable,\n  IRotatable,\n  IZoomable\n} from \"../interfaces\";\nimport { Collider, PolygonCollider, Vector2D, Angle } from \"../physics\";\nimport { Ball } from \"./ball\";\nimport { MapItem } from \"./map-item\";\n\nexport class BorderCollider extends Collider {\n  protected borders: PolygonCollider[] = [];\n  constructor() {\n    super();\n    this._position = Vector2D.ZERO;\n    const vertical: Vector2D = MapItem.vertical.clone(),\n      horizontal: Vector2D = MapItem.horizontal.clone(),\n      verticalMax: Vector2D = Vector2D.mult(vertical, Controller.maxGridCount),\n      horizontalMax: Vector2D = Vector2D.mult(\n        horizontal,\n        Controller.maxGridCount\n      );\n\n    this.borders.push(\n      new PolygonCollider([\n        Vector2D.negate(horizontal),\n        Vector2D.difference(verticalMax, horizontal),\n        Vector2D.copy(verticalMax),\n        Vector2D.ZERO\n      ])\n    );\n    this.borders.push(\n      new PolygonCollider([\n        Vector2D.copy(verticalMax),\n        Vector2D.add(verticalMax, vertical),\n        Vector2D.add(verticalMax, vertical).add(horizontalMax),\n        Vector2D.add(horizontalMax, verticalMax)\n      ])\n    );\n    this.borders.push(\n      new PolygonCollider([\n        Vector2D.copy(horizontalMax),\n        Vector2D.add(verticalMax, horizontalMax),\n        Vector2D.add(verticalMax, horizontalMax).add(horizontal),\n        Vector2D.add(horizontal, horizontalMax)\n      ])\n    );\n    this.borders.push(\n      new PolygonCollider([\n        Vector2D.negate(vertical),\n        Vector2D.ZERO,\n        Vector2D.copy(horizontalMax),\n        Vector2D.difference(horizontalMax, vertical)\n      ])\n    );\n  }\n\n  public crashDetect(crashable: ICollisible): boolean {\n    for (const border of this.borders) {\n      if (border.crashDetect(crashable) || crashable.crashDetect(border)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  public crashHandle(crashable: ICollisible): void {\n    if (crashable instanceof Ball) {\n      for (const border of this.borders) {\n        if (crashable.crashDetect(border)) {\n          border.crashHandle(crashable);\n        }\n      }\n    }\n  }\n  public get center(): Vector2D {\n    throw new Error(\"Method not implemented.\");\n  }\n  public translate(point: Vector2D): ITransmittable {\n    throw new Error(\"Method not implemented.\");\n  }\n  public rotate(center: Vector2D, angle: Angle): IRotatable {\n    throw new Error(\"Method not implemented.\");\n  }\n  public zoomTo(zoomCenter: Vector2D, zoom: number): IZoomable {\n    throw new Error(\"Method not implemented.\");\n  }\n}\n\nexport class BorderMapItem extends MapItem {\n  get name(): MapItemNames {\n    return \"border\";\n  }\n  get imgURL(): string {\n    return \"\";\n  }\n  constructor() {\n    super(new BorderCollider());\n  }\n}\n","import { MapItem } from \"./map-item\";\nimport { MapItemNames } from \"../enums\";\nimport { CircleCollider, Vector2D } from \"../physics\";\nimport { PolygonMapItem } from \"./polygon\";\n\nexport class CircleMapItem extends PolygonMapItem {\n  public static readonly imageURL: string = \"img/item/circle.png\";\n  public static readonly Name: MapItemNames = \"circle\";\n  get name(): MapItemNames {\n    return CircleMapItem.Name;\n  }\n  get imgURL(): string {\n    return CircleMapItem.imageURL;\n  }\n  constructor(x: number, y: number) {\n    super(new CircleCollider(new Vector2D(x, y), MapItem.gridScale / 2));\n  }\n}\n","import { Direction } from \"../physics\";\nimport { MapItem } from \"./map-item\";\nimport { MapItemNames } from \"../enums\";\nimport { ICollisible, IRotatable } from \"../interfaces\";\nimport { PolygonCollider, Vector2D, Angle, Line } from \"../physics\";\nimport { MassPoint, Physical } from \"../physics/kinematics\";\nimport { Ball } from \"./ball\";\n\nexport class PipeCollider extends PolygonCollider {\n  public get center(): Vector2D {\n    return this.position.add(\n      MapItem.vertical\n        .clone()\n        .add(MapItem.horizontal)\n        .mult(0.5 * this.zoom)\n    );\n  }\n  constructor(position: Vector2D) {\n    super(\n      [\n        position.clone(),\n        position.clone().add(MapItem.vertical),\n        position\n          .clone()\n          .add(MapItem.horizontal)\n          .add(MapItem.vertical),\n        position.clone().add(MapItem.horizontal)\n      ],\n      position\n    );\n  }\n\n  public crashHandle(crashable: ICollisible) {\n    super.crashHandle(crashable);\n  }\n}\n\nexport class PipeMapItem extends MapItem implements IRotatable {\n  get rotation(): Direction {\n    return this.collider.rotation;\n  }\n  set rotation(rotation: Direction) {\n    this.collider.rotation = rotation;\n  }\n  rotate(center: Vector2D, angle: Angle): IRotatable {\n    this.collider.rotate(center, angle);\n    return this;\n  }\n  public get name(): MapItemNames {\n    return PipeMapItem.Name;\n  }\n  get imgURL(): string {\n    return PipeMapItem.imageUrl;\n  }\n\n  public static readonly Name: MapItemNames = \"pipe\";\n  public static readonly imageUrl: string = \"img/item/pipe_normal.png\";\n  protected collider!: PolygonCollider;\n  constructor(x: number, y: number) {\n    super(new PipeCollider(new Vector2D(x, y)));\n    // this.collider = new PipeCollider(new Vector2D(x, y));\n  }\n\n  public crashHandle(crashable: ICollisible) {\n    // \n    if (crashable instanceof Ball) {\n      const massPoint: MassPoint = crashable.massPoint;\n      const v: Vector2D = massPoint.v;\n      let crashLine: Line | null = null;\n      const ballPos: Vector2D = crashable.massPoint.p.add(\n        massPoint.v.mult(-Physical.tick)\n      );\n      // \n      const edges: Line[] = this.collider.edges;\n      for (const edge of edges) {\n        const v1: Vector2D = Vector2D.difference(ballPos, edge.p1);\n        const v2: Vector2D = Vector2D.difference(ballPos, edge.p2);\n        if (crashLine === null) {\n          const axis: Vector2D = edge.normalVector;\n          if (v1.dot(axis) >= 0 && v2.dot(axis) >= 0) {\n            crashLine = edge;\n            break;\n          }\n        }\n      }\n      if (crashLine !== null) {\n        // \n        // console.log(\"out!\");\n        // \n        if (\n          crashLine.p1.equals(edges[0].p1) ||\n          crashLine.p1.equals(edges[2].p1)\n        ) {\n          // \n          // console.log(\"side!\");\n          this.collider.crashHandle(crashable);\n        } else {\n          // \n          const axis: Vector2D = crashLine.normalVector;\n\n          if (v.dot(axis) < 0) {\n            // \n            // console.log(\"entry!\");\n            const lineCenter: Vector2D = Vector2D.center([\n              crashLine.p1,\n              crashLine.p2\n            ]);\n            const ballCenter: Vector2D = crashable.center;\n            if (\n              Math.abs(\n                Vector2D.difference(ballCenter, lineCenter).projection(\n                  crashLine.directionVector\n                )\n              ) < 10\n            ) {\n              // console.log(\"move!\");\n              // \n              if (crashable.pipeID !== -1) {\n                massPoint.setVelocity(\n                  v\n                    .component(axis)\n                    .mult(v.radius / Math.abs(v.projection(axis)))\n                );\n              } else {\n                massPoint.setVelocity(v.component(axis));\n              }\n              crashable.pipeID = this.id;\n              const change: Vector2D = Vector2D.difference(\n                lineCenter,\n                ballCenter\n              ).component(crashLine.directionVector);\n              crashable.translate(crashable.position.add(change));\n            } else {\n              // console.log(\"bounce!\");\n              this.collider.crashHandle(crashable);\n            }\n          } else {\n            // \n            // console.log(\"exit!\");\n            if (crashable.pipeID === this.id) {\n              crashable.pipeID = -1;\n              massPoint.setAcceleration(\"pipe\", Vector2D.ZERO);\n              massPoint.setAcceleration(\"centripetal\", Vector2D.ZERO);\n            }\n          }\n        }\n      } else {\n        // \n        // console.log(\"in!\");\n        massPoint.setAcceleration(\"pipe\", Physical.pipeAcc);\n        massPoint.setAcceleration(\"centripetal\", Vector2D.ZERO);\n        // todo\n      }\n    }\n  }\n}\n","import { Direction } from \"../physics\";\nimport { MapItemNames } from \"../enums\";\nimport { IRotatable, ICollisible } from \"../interfaces\";\nimport { PolygonCollider, Vector2D, Angle, Line } from \"../physics\";\nimport { MassPoint, Physical } from \"../physics/kinematics\";\nimport { Ball } from \"./ball\";\nimport { MapItem } from \"./map-item\";\n\nexport class PipeTurnedCollider extends PolygonCollider {\n  public get center(): Vector2D {\n    return this.position.add(\n      MapItem.vertical\n        .clone()\n        .add(MapItem.horizontal)\n        .mult(0.5 * this.zoom)\n    );\n  }\n\n  /**\n   * \n   */\n  public get centre(): Vector2D {\n    return this._vertexes[2].clone();\n  }\n  public get entryAxis1(): Vector2D {\n    return this._edges[1].normalVector;\n  }\n  public get entryAxis2(): Vector2D {\n    return this._edges[2].normalVector;\n  }\n  constructor(position: Vector2D) {\n    super(\n      [\n        position.clone(),\n        position.clone().add(MapItem.vertical),\n        position\n          .clone()\n          .add(MapItem.horizontal)\n          .add(MapItem.vertical),\n        position.clone().add(MapItem.horizontal)\n      ],\n      position\n    );\n  }\n}\n\nexport class PipeTurnedMapItem extends MapItem implements IRotatable {\n  public get rotation(): Direction {\n    return this.collider.rotation;\n  }\n  public set rotation(rotation: Direction) {\n    this.collider.rotation = rotation;\n  }\n  rotate(center: Vector2D, angle: Angle): IRotatable {\n    this.collider.rotate(center, angle);\n    return this;\n  }\n  public get name(): MapItemNames {\n    return PipeTurnedMapItem.Name;\n  }\n  get imgURL(): string {\n    return PipeTurnedMapItem.imageUrl;\n  }\n\n  public static readonly Name: MapItemNames = \"pipe-turned\";\n  public static readonly imageUrl: string = \"img/item/pipe_turned.png\";\n  protected collider!: PipeTurnedCollider;\n  constructor(x: number, y: number) {\n    super(new PipeTurnedCollider(new Vector2D(x, y)));\n  }\n\n  public crashHandle(crashable: ICollisible): void {\n    // \n    if (crashable instanceof Ball) {\n      const massPoint: MassPoint = crashable.massPoint;\n      const v: Vector2D = massPoint.v;\n      let crashLine: Line | null = null;\n      const ballPos: Vector2D = crashable.massPoint.p.add(\n        massPoint.v.mult(-Physical.tick)\n      );\n      // \n      const edges: Line[] = this.collider.edges;\n      for (const edge of edges) {\n        const v1: Vector2D = Vector2D.difference(ballPos, edge.p1);\n        const v2: Vector2D = Vector2D.difference(ballPos, edge.p2);\n        if (crashLine === null) {\n          const axis: Vector2D = edge.normalVector;\n          if (v1.dot(axis) >= 0 && v2.dot(axis) >= 0) {\n            crashLine = edge;\n            break;\n          }\n        }\n      }\n      if (crashLine !== null) {\n        // \n        // \n        if (\n          crashLine.p1.equals(edges[0].p1) ||\n          crashLine.p1.equals(edges[3].p1)\n        ) {\n          // \n          // console.log(\"side!\");\n          this.collider.crashHandle(crashable);\n        } else {\n          // \n          const axis: Vector2D = crashLine.normalVector;\n\n          if (v.dot(axis) < 0) {\n            // \n            // console.log(\"entry!\");\n            const lineCenter: Vector2D = Vector2D.center([\n              crashLine.p1,\n              crashLine.p2\n            ]);\n            const ballCenter: Vector2D = crashable.center;\n            if (\n              Math.abs(\n                Vector2D.difference(ballCenter, lineCenter).projection(\n                  crashLine.directionVector\n                )\n              ) < 10\n            ) {\n              // console.log(\"move!\");\n              crashable.pipeID = this.id;\n              massPoint.setVelocity(v.component(axis));\n              massPoint.setAcceleration(\"pipe\", Physical.pipeAcc);\n              const change: Vector2D = Vector2D.difference(\n                lineCenter,\n                ballCenter\n              ).component(crashLine.directionVector);\n              crashable.translate(crashable.position.add(change));\n            } else {\n              // console.log(\"bounce!\");\n              this.collider.crashHandle(crashable);\n            }\n          } else {\n            // \n            // console.log(\"exit!\");\n            if (crashable.pipeID === this.id) {\n              crashable.pipeID = -1;\n              massPoint.setAcceleration(\"pipe\", Vector2D.ZERO);\n              massPoint.setAcceleration(\"centripetal\", Vector2D.ZERO);\n            }\n          }\n        }\n      } else {\n        // \n        // console.log(\"in!\");\n        if (Vector2D.difference(crashable.center, this.center).radius < 5) {\n          if (this.collider.entryAxis1.dot(v) < 0) {\n            // entryAxis1\n            crashable.translate(this.position);\n            massPoint.setVelocity(\n              v.clone().directionRotate(this.collider.entryAxis2)\n            );\n          } else if (this.collider.entryAxis2.dot(v) < 0) {\n            // entryAxis2\n            crashable.translate(this.position);\n            massPoint.setVelocity(\n              v.clone().directionRotate(this.collider.entryAxis1)\n            );\n          }\n        }\n        // const a:Vector2D = Physical.centripetalAcceleration(crashable.massPoint, MapItem.gridScale / 2, edges[1].p2);\n        // console.log(a);\n        // crashable.massPoint.setAcceleration(\"centripetal\", a);\n        // todo\n      }\n    }\n  }\n}\n","import { MapItem } from \"./map-item\";\nimport { MapItemNames } from \"../enums\";\nimport { PolygonCollider, Vector2D } from \"../physics\";\nimport { PolygonMapItem } from \"./polygon\";\n\nexport class TriangleCollider extends PolygonCollider {\n  public get center(): Vector2D {\n    return this.position.add(\n      MapItem.vertical\n        .clone()\n        .add(MapItem.horizontal)\n        .mult(0.5 * this.zoom)\n    );\n  }\n  constructor(position: Vector2D) {\n    super(\n      [\n        position.clone(),\n        position.clone().add(MapItem.vertical),\n        position\n          .clone()\n          .add(MapItem.horizontal)\n          .add(MapItem.vertical)\n      ],\n      position\n    );\n  }\n}\n\nexport class TriangleMapItem extends PolygonMapItem {\n  public get name(): MapItemNames {\n    return TriangleMapItem.Name;\n  }\n  public get center(): Vector2D {\n    return this.collider.center;\n  }\n  get imgURL(): string {\n    return TriangleMapItem.imageUrl;\n  }\n  public static readonly Name: MapItemNames = \"triangle\";\n  public static readonly imageUrl: string = \"img/item/triangle.png\";\n  constructor(x: number, y: number) {\n    super(new TriangleCollider(new Vector2D(x, y)));\n  }\n}\n","import { MapItemNames } from \"../enums\";\nimport { AbsorberMapItem } from \"../mapitems/absorber\";\nimport { BaffleAlphaMapItem, BaffleBetaMapItem } from \"../mapitems/baffle\";\nimport { Ball } from \"../mapitems/ball\";\nimport { BorderMapItem } from \"../mapitems/border-map-item\";\nimport { CircleMapItem } from \"../mapitems/circle\";\nimport { PipeMapItem } from \"../mapitems/pipe\";\nimport { PipeTurnedMapItem } from \"../mapitems/pipe-turned\";\nimport { SquareMapItem } from \"../mapitems/square\";\nimport { TriangleMapItem } from \"../mapitems/triangle\";\n\nexport type MapItems =\n  | typeof AbsorberMapItem\n  | typeof BaffleAlphaMapItem\n  | typeof BaffleBetaMapItem\n  | typeof Ball\n  | typeof BorderMapItem\n  | typeof CircleMapItem\n  | typeof PipeMapItem\n  | typeof PipeTurnedMapItem\n  | typeof SquareMapItem\n  | typeof TriangleMapItem;\n\nconst itemMap: Record<MapItemNames, MapItems> = {\n  absorber: AbsorberMapItem,\n  \"baffle-alpha\": BaffleAlphaMapItem,\n  \"baffle-beta\": BaffleBetaMapItem,\n  ball: Ball,\n  border: BorderMapItem,\n  circle: CircleMapItem,\n  pipe: PipeMapItem,\n  \"pipe-turned\": PipeTurnedMapItem,\n  square: SquareMapItem,\n  triangle: TriangleMapItem\n};\n\nexport { itemMap };\n","import { Direction } from \"../physics\";\nimport { isRotatable, isZoomable } from \"../common\";\nimport { itemMap } from \"../constants\";\nimport { MapItemNames } from \"../enums\";\nimport { BaffleAlphaMapItem, BaffleBetaMapItem } from \"../mapitems/baffle\";\nimport { Ball } from \"../mapitems/ball\";\nimport { BorderMapItem } from \"../mapitems/border-map-item\";\nimport { MapItem } from \"../mapitems/map-item\";\nimport { Vector2D, Angle } from \"../physics\";\nimport { Physical } from \"../physics/kinematics\";\n\nabstract class MapItemJSON {\n  abstract name: MapItemNames;\n  abstract position: Vector2D;\n  abstract zoom?: number;\n  abstract rotation?: Direction;\n  public static createFromJSON(obj: any): MapItemJSON | null {\n    if (\n      obj.name &&\n      obj.position &&\n      obj.position.x !== undefined &&\n      obj.position.y !== undefined\n    ) {\n      return {\n        name: obj.name,\n        position: new Vector2D(obj.position.x, obj.position.y),\n        zoom: obj.zoom,\n        rotation: obj.rotation\n      };\n    } else {\n      return null;\n    }\n  }\n}\n\nexport class Controller {\n  private static controller: Controller;\n  public static readonly maxGridCount: number = 20;\n  public static readonly maxXY: number =\n    Controller.maxGridCount * MapItem.gridScale;\n  public static getInstance(): Controller {\n    return this.controller ?? (this.controller = new Controller());\n  }\n\n  private mapItems: Map<number, MapItem>;\n  private savedJSONString: string;\n  private balls: Map<number, Ball>;\n  private border: BorderMapItem;\n  private alphaBaffles: Map<number, BaffleAlphaMapItem>;\n  private betaBaffles: Map<number, BaffleBetaMapItem>;\n  private constructor() {\n    this.mapItems = new Map<number, MapItem>();\n    this.balls = new Map<number, Ball>();\n    this.border = new BorderMapItem();\n    this.mapItems.set(this.border.id, this.border);\n    this.alphaBaffles = new Map<number, BaffleAlphaMapItem>();\n    this.betaBaffles = new Map<number, BaffleBetaMapItem>();\n    this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n  }\n\n  public get items(): MapItem[] {\n    const mapItem: MapItem[] = [];\n    for (const [, item] of this.mapItems) {\n      if (!(item instanceof BorderMapItem)) {\n        mapItem.push(item);\n      }\n    }\n    return mapItem;\n  }\n\n  /**\n   * \n   * @param name \n   * @param x\n   * @param y\n   * @returns \n   */\n  public createMapItem(\n    name: MapItemNames,\n    x: number,\n    y: number\n  ): MapItem | null {\n    const mapItem = new itemMap[name](x, y);\n    if (this.handleAddItem(mapItem)) {\n      this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n      return mapItem;\n    }\n    return null;\n  }\n\n  private loadMapItemsFromItems(items: MapItem[]) {\n    this.clearAll();\n    for (const item of items) {\n      if (item instanceof Ball) {\n        this.balls.set(item.id, item);\n      } else if (item instanceof BaffleAlphaMapItem) {\n        this.alphaBaffles.set(item.id, item);\n      } else if (item instanceof BaffleBetaMapItem) {\n        this.betaBaffles.set(item.id, item);\n      }\n      this.mapItems.set(item.id, item);\n    }\n  }\n\n  private loadMapItemsFromJSON(content: string) {\n    const items = this.readFromJSON(content);\n    if (items != null) {\n      this.loadMapItemsFromItems(items);\n    } else {\n      throw new Error(\"\");\n    }\n  }\n\n  private readFromJSON(content: string): MapItem[] | null {\n    const jsonItems = JSON.parse(content);\n    const items: MapItem[] = [];\n    if (jsonItems instanceof Array) {\n      for (const jsonItem of jsonItems) {\n        const item = MapItemJSON.createFromJSON(jsonItem);\n        if (item !== null) {\n          const mapItem = new itemMap[item.name](\n            item.position.x,\n            item.position.y\n          );\n          // \n          if (isRotatable(mapItem)) {\n            if (item.rotation !== undefined) {\n              mapItem.rotation = item.rotation;\n            } else {\n              return null;\n            }\n          }\n          // \n          if (isZoomable(mapItem)) {\n            if (item.zoom !== undefined) {\n              mapItem.zoomTo(mapItem.position, item.zoom);\n            } else {\n              return null;\n            }\n          }\n          items.push(mapItem);\n        } else {\n          return null;\n        }\n      }\n    }\n    // \n    for (const from of items) {\n      for (const to of items) {\n        if (from.id !== to.id && from.crashDetect(to)) {\n          return null;\n        }\n      }\n    }\n    return items;\n  }\n\n  private collidesWithOthers(mapItem: MapItem): boolean {\n    for (const element of this.mapItems) {\n      if (element[0] !== mapItem.id && element[1].crashDetect(mapItem)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  /**\n   * ,\n   * @param mapitem \n   */\n  public handleAddItem(mapitem: MapItem): boolean {\n    for (const i of this.mapItems) {\n      if (i[1].crashDetect(mapitem)) {\n        return false;\n      }\n    }\n    this.mapItems.set(mapitem.id, mapitem);\n    if (mapitem instanceof Ball) {\n      this.balls.set(mapitem.id, mapitem);\n    } else if (mapitem instanceof BaffleAlphaMapItem) {\n      this.alphaBaffles.set(mapitem.id, mapitem);\n    } else if (mapitem instanceof BaffleBetaMapItem) {\n      this.betaBaffles.set(mapitem.id, mapitem);\n    }\n    // this.currentFileModified = true;\n    return true;\n  }\n\n  /**\n   * ,\n   * @param id ID\n   * @param newPosition \n   */\n  public handleDraggingItem(id: number, newPosition: Vector2D): boolean {\n    const mapItem: MapItem | undefined = this.mapItems.get(id);\n    if (mapItem !== undefined) {\n      const oldPosition: Vector2D = mapItem.position;\n      mapItem.translate(newPosition);\n      if (this.collidesWithOthers(mapItem)) {\n        mapItem.translate(oldPosition);\n        return false;\n      }\n      // this.currentFileModified = true;\n      this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * ,\n   * @param id ID\n   */\n  public handleDeleteItem(id: number): boolean {\n    this.balls.delete(id);\n    this.alphaBaffles.delete(id);\n    this.betaBaffles.delete(id);\n    const result = this.mapItems.delete(id);\n    // if (result) this.currentFileModified = true;\n    this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n    return result;\n  }\n\n  /**\n   * \n   * @param id ID\n   */\n  public handleAbsorb(id: number): boolean {\n    const ball: MapItem | undefined = this.mapItems.get(id);\n    if (ball !== undefined && ball instanceof Ball) {\n      this.balls.delete(id);\n      this.mapItems.delete(id);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * ,\n   * @param id ID\n   */\n  public handleZoomIn(id: number): boolean {\n    const mapItem: MapItem | undefined = this.mapItems.get(id);\n    if (mapItem !== undefined && isZoomable(mapItem)) {\n      const zoom: number = mapItem.zoom;\n      mapItem.zoomTo(mapItem.position, zoom + 1);\n      if (this.collidesWithOthers(mapItem)) {\n        mapItem.zoomTo(mapItem.position, zoom);\n        return false;\n      }\n      // this.currentFileModified = true;\n      this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * ,\n   * @param id ID\n   */\n  public handleZoomOut(id: number): boolean {\n    const mapItem: MapItem | undefined = this.mapItems.get(id);\n    if (mapItem !== undefined && isZoomable(mapItem)) {\n      const zoom: number = mapItem.zoom;\n      if (zoom <= 1) {\n        return false;\n      }\n      mapItem.zoomTo(mapItem.position, zoom - 1);\n      if (this.collidesWithOthers(mapItem)) {\n        mapItem.zoomTo(mapItem.position, zoom);\n        return false;\n      }\n      // this.currentFileModified = true;\n      this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * ,\n   * @param id ID\n   */\n  public handleRotate(id: number): boolean {\n    const mapItem: MapItem | undefined = this.mapItems.get(id);\n    if (mapItem !== undefined && isRotatable(mapItem)) {\n      mapItem.rotate(mapItem.center, Angle.RIGHT_ANGLE);\n      if (this.collidesWithOthers(mapItem)) {\n        mapItem.rotate(mapItem.center, Angle.RIGHT_ANGLE_REVERSE);\n        return false;\n      }\n      // this.currentFileModified = true;\n      this.savedJSONString = this.mapItemsToJSON(this.mapItems);\n      return true;\n    }\n    return false;\n  }\n\n  private state: \"LAYOUT\" | \"PAUSED\" | \"PLAYING\" = \"LAYOUT\";\n\n  /**\n   * \n   */\n  public startPlaying(): void {\n    this.state = \"PLAYING\";\n    for (const kv of this.balls) {\n      const ball: Ball = kv[1];\n      ball.massPoint.setAcceleration(\"gravity\", Physical.gravity);\n      ball.massPoint.setAcceleration(\"pipe\", new Vector2D(0, 0));\n      ball.massPoint.setAcceleration(\"centripetal\", new Vector2D(0, 0));\n    }\n    const timer: number = setInterval(() => {\n      switch (this.state) {\n        case \"PLAYING\":\n          for (const [, ball] of this.balls) {\n            ball.massPoint.tick();\n            ball.translate(\n              Vector2D.difference(ball.position, ball.center).add(\n                ball.massPoint.p\n              )\n            );\n            for (const [, item] of this.mapItems) {\n              if (item.id != ball.id) {\n                if (item.crashDetect(ball)) {\n                  item.crashHandle(ball);\n                }\n              }\n            }\n          }\n          break;\n        case \"PAUSED\":\n          break;\n        case \"LAYOUT\":\n          clearInterval(timer);\n          break;\n        default:\n          break;\n      }\n    }, 1);\n  }\n\n  /**\n   * \n   */\n  public stopPlaying(): void {\n    // todo\n    this.state = \"LAYOUT\";\n    this.mapItems.clear();\n    this.mapItems.set(this.border.id, this.border);\n    // TODO: JSON\n    this.loadMapItemsFromJSON(this.savedJSONString);\n  }\n\n  public pause(): void {\n    this.state = \"PAUSED\";\n  }\n\n  public continue(): void {\n    this.state = \"PLAYING\";\n  }\n\n  /**\n   * mapItemsJSONstring\n   */\n  private mapItemsToJSON(mapItems: Map<number, MapItem>): string {\n    const mapItemJSONs: MapItemJSON[] = [];\n    for (const [, item] of mapItems) {\n      const mapItem: MapItem = item;\n      const mapItemJSON: MapItemJSON = {\n        name: mapItem.name,\n        position: mapItem.position,\n        rotation: isRotatable(mapItem) ? mapItem.rotation : undefined,\n        zoom: isZoomable(mapItem) ? mapItem.zoom : undefined\n      };\n      mapItemJSONs.push(mapItemJSON);\n    }\n    return JSON.stringify(mapItemJSONs);\n  }\n\n  private clearAll() {\n    this.balls.clear();\n    this.alphaBaffles.clear();\n    this.betaBaffles.clear();\n    this.mapItems.clear();\n  }\n\n  public handleBaffleMove(name: MapItemNames, direction: \"left\" | \"right\") {\n    const movement: Vector2D = Vector2D.ZERO;\n    switch (direction) {\n      case \"left\":\n        movement.x = -5;\n        break;\n      case \"right\":\n        movement.x = 5;\n        break;\n      default:\n        break;\n    }\n    switch (name) {\n      case \"baffle-alpha\":\n        for (const [, baffle] of this.alphaBaffles) {\n          baffle.move(movement);\n          if (this.collidesWithOthers(baffle)) {\n            baffle.move(Vector2D.negate(movement));\n          }\n        }\n        break;\n      case \"baffle-beta\":\n        for (const [, baffle] of this.betaBaffles) {\n          baffle.move(movement);\n          if (this.collidesWithOthers(baffle)) {\n            baffle.move(Vector2D.negate(movement));\n          }\n        }\n        break;\n      default:\n        break;\n    }\n  }\n}\n\nexport default Controller;\n","\nimport { Component, Vue } from \"vue-property-decorator\";\nimport ItemImage from \"@/components/base/ItemImage.vue\";\nimport store from \"@/store/index\";\nimport { MapItem } from \"@/core/mapitems/map-item\";\nimport Controller from \"@/core/controller/Controller\";\nimport { isViewItem } from \"@/core/constants/gizmo\";\nimport { Vector2D } from \"@/core/physics\";\nimport { Gizmo } from \"@/core/constants/gizmo\";\n\n@Component({\n  components: {\n    ItemImage\n  }\n})\nexport default class GamePanel extends Vue {\n  $refs!: {\n    \"game-grid\": HTMLElement;\n  };\n\n  items: MapItem[] = [];\n\n  get currentItemId(): number {\n    if (\n      store.state.module1.currentMode === \"LAYOUT\" &&\n      store.state.module1.panelCurrentItem\n    ) {\n      return store.state.module1.panelCurrentItem.id;\n    } else {\n      return 0;\n    }\n  }\n\n  private gridX!: number;\n  private gridY!: number;\n\n  mounted() {\n    const p = this.$refs[\"game-grid\"].getBoundingClientRect();\n    this.gridX = p.left;\n    this.gridY = p.top;\n    setInterval(() => {\n      this.items = Controller.getInstance().items;\n    }, 100);\n  }\n\n  /**\n   * \n   */\n  onPanelClick() {\n    store.commit.changePanelCurrentItem(null);\n  }\n\n  /**\n   * item\n   */\n  onImgClick(item: MapItem) {\n    const m = store.state.module1;\n    if (\n      m.toolZoneCurrentItem.typeValue === \"select\" &&\n      m.currentMode === \"LAYOUT\"\n    ) {\n      store.commit.changePanelCurrentItem(item);\n    }\n  }\n\n  /**\n   * dragover\n   */\n  onDragover(event: DragEvent) {\n    const item = store.state.module1.draggingItem;\n    if (event.dataTransfer) {\n      if (item === null) {\n        event.dataTransfer.dropEffect = \"none\";\n      } else if (isViewItem(item)) {\n        event.dataTransfer.dropEffect = \"copy\";\n      } else if (item instanceof MapItem) {\n        event.dataTransfer.dropEffect = \"move\";\n      }\n    }\n  }\n\n  /**\n   * drop\n   */\n  onDrop(event: DragEvent) {\n    // console.log('You dropped something!');\n    const item = store.state.module1.draggingItem;\n    if (item === null) {\n      return;\n    }\n    const offset = store.state.module1.draggingItemOffset;\n    const position = new Vector2D(\n      event.clientX - this.gridX - offset.x,\n      event.clientY - this.gridY - offset.y\n    );\n    if (isViewItem(item) && item.typeValue !== \"select\") {\n      this.formatPosition(position, \"floor\");\n      const mapItem = Controller.getInstance().createMapItem(\n        item.typeValue,\n        position.x,\n        position.y\n      );\n      if (mapItem != null) {\n        store.commit.changePanelCurrentItem(mapItem);\n      }\n    } else if (item instanceof MapItem) {\n      this.formatPosition(position, \"round\");\n      Controller.getInstance().handleDraggingItem(item.id, position);\n    }\n  }\n\n  /**\n   * \n   */\n  private formatPosition(position: Vector2D, options: \"round\" | \"floor\") {\n    const cellLength = Gizmo.gridLength + Gizmo.gridLineLength;\n    if (options == \"round\") {\n      // item zone\n      position.x = Math.round(position.x / cellLength) * cellLength;\n      position.y = Math.round(position.y / cellLength) * cellLength;\n    } else {\n      // game panel\n      position.x = Math.floor(position.x / cellLength) * cellLength;\n      position.y = Math.floor(position.y / cellLength) * cellLength;\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GamePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GamePanel.vue?vue&type=template&id=849369b8&scoped=true&\"\nimport script from \"./GamePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./GamePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GamePanel.vue?vue&type=style&index=0&id=849369b8&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"849369b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"item-zone\",style:('pointer-events: ' + (_vm.currentMode == 'LAYOUT' ? 'auto' : 'none'))},[_c('table',{staticClass:\"item-table\",attrs:{\"width\":\"100%\"}},[_c('caption',{staticClass:\"caption\"},[_vm._v(\"  \")]),_vm._l((_vm.itemss),function(items,rowIndex){return _c('tr',{key:rowIndex,staticClass:\"two-item\"},_vm._l((items),function(item,colIndex){return _c('td',{key:colIndex},[_c('label',{staticClass:\"item\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.currentItem),expression:\"currentItem\"}],attrs:{\"id\":'items' + (rowIndex * 4 + colIndex),\"type\":\"radio\",\"name\":\"chooseItem\"},domProps:{\"checked\":item.typeValue,\"value\":item.typeValue,\"checked\":_vm._q(_vm.currentItem,item.typeValue)},on:{\"change\":function($event){_vm.currentItem=item.typeValue}}}),_c('img',{attrs:{\"src\":item.img,\"draggable\":item.typeValue != 'select',\"height\":_vm.length,\"width\":_vm.length},on:{\"dragstart\":function($event){return _vm.onDragstart(item, $event)},\"dragend\":function($event){return _vm.onDragend(item, $event)}}})])])}),0)})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Vue, Watch } from \"vue-property-decorator\";\nimport store from \"@/store/index\";\nimport { ViewItem, Gizmo, ItemType } from \"@/core/constants/gizmo\";\nimport { itemMap } from \"@/core/constants\";\nimport { Vector2D } from \"@/core/physics\";\n@Component\nexport default class ItemZone extends Vue {\n  get currentMode() {\n    return store.state.module1.currentMode;\n  }\n\n  private length = 48;\n  private currentItem: ItemType = \"select\";\n\n  @Watch(\"currentItem\")\n  onCurrentItemChanged(val: ItemType, oldVal: ItemType) {\n    store.commit.changeToolZoneCurrentItem(Gizmo.getViewItemByType(val));\n  }\n\n  readonly itemss: ViewItem[][] = Gizmo.itemss;\n\n  onDragstart(item: ViewItem, event: DragEvent) {\n    store.commit.changeDraggingItemOffset(new Vector2D(0, 0));\n    store.commit.changeDraggingItem(item);\n  }\n\n  onDragend(item: ViewItem, event: DragEvent) {\n    store.commit.changeDraggingItem(null);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ItemZone.vue?vue&type=template&id=3e798ab6&scoped=true&\"\nimport script from \"./ItemZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./ItemZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ItemZone.vue?vue&type=style&index=0&id=3e798ab6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3e798ab6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"tool-zone\",style:('pointer-events: ' + (_vm.available ? 'auto' : 'none'))},[_c('table',{staticClass:\"tool-table\",attrs:{\"width\":\"100%\"}},[_c('caption',{staticClass:\"caption\"},[_vm._v(\"  \")]),_c('tr',{staticClass:\"two-tool\"},[_c('td',[_c('img',{staticClass:\"tool\",attrs:{\"src\":\"img/tool/rotate.png\",\"height\":_vm.length,\"width\":_vm.length},on:{\"click\":_vm.rotate}})]),_c('td',[_c('img',{staticClass:\"tool\",attrs:{\"src\":\"img/tool/remove.png\",\"height\":_vm.length,\"width\":_vm.length},on:{\"click\":_vm.remove}})])]),_c('tr',[_c('td',[_c('img',{staticClass:\"tool\",attrs:{\"src\":\"img/tool/zoom-in.png\",\"height\":_vm.length,\"width\":_vm.length},on:{\"click\":_vm.zoomin}})]),_c('td',[_c('img',{staticClass:\"tool\",attrs:{\"src\":\"img/tool/zoom-out.png\",\"height\":_vm.length,\"width\":_vm.length},on:{\"click\":_vm.zoomout}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from \"vue-property-decorator\";\nimport store from \"@/store/index\";\nimport Controller from \"@/core/controller/Controller\";\nimport { MapItem } from \"@/core/mapitems/map-item\";\n\n@Component\nexport default class ToolZone extends Vue {\n  get available(): boolean {\n    const m = store.state.module1;\n    return m.currentMode === \"LAYOUT\" && m.panelCurrentItem != null;\n  }\n  length = 50;\n  get currentItem(): MapItem | null {\n    return store.state.module1.panelCurrentItem;\n  }\n  rotate() {\n    if (this.available && this.currentItem) {\n      Controller.getInstance().handleRotate(this.currentItem.id);\n    }\n  }\n  remove() {\n    if (this.available && this.currentItem) {\n      Controller.getInstance().handleDeleteItem(this.currentItem.id);\n    }\n  }\n  zoomin() {\n    if (this.available && this.currentItem) {\n      Controller.getInstance().handleZoomIn(this.currentItem.id);\n    }\n  }\n  zoomout() {\n    if (this.available && this.currentItem) {\n      Controller.getInstance().handleZoomOut(this.currentItem.id);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ToolZone.vue?vue&type=template&id=08d92c8a&scoped=true&\"\nimport script from \"./ToolZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./ToolZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ToolZone.vue?vue&type=style&index=0&id=08d92c8a&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08d92c8a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mode-zone\"},[_c('table',{staticClass:\"mode-table\",attrs:{\"width\":\"100%\"}},[_c('caption',{staticClass:\"caption\"},[_vm._v(\"  \")]),_c('tr',[_c('td',{staticClass:\"mode-col\",attrs:{\"align\":\"right\"}},[(_vm.currentMode === 'LAYOUT')?_c('img',{attrs:{\"src\":\"img/mode/arrow.png\",\"height\":\"20\"}}):_vm._e()]),_c('td',{attrs:{\"align\":\"left\",\"colspan\":\"2\"}},[_c('button',{staticClass:\"layout-button\",on:{\"click\":_vm.changeToLayoutMode}},[_vm._v(\"  \")])])]),_c('tr',[_c('td',{attrs:{\"align\":\"right\"}},[(_vm.currentMode === 'PLAY')?_c('img',{attrs:{\"src\":\"img/mode/arrow.png\",\"height\":\"20\"}}):_vm._e()]),_c('td',{attrs:{\"align\":\"left\"}},[_c('button',{staticClass:\"play-button\",on:{\"click\":_vm.changeToPlayMode}},[_vm._v(\"  \")])]),_c('td',[(_vm.currentMode === 'PLAY')?_c('img',{staticClass:\"controll-img\",attrs:{\"src\":_vm.controllImg,\"height\":\"30\",\"title\":\"\"},on:{\"click\":_vm.changeState}}):_vm._e()])])]),_c('span',[_vm._v(\"GIZMO BALL\")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport store from \"@/store/index\";\nimport Controller from \"@/core/controller/Controller\";\n@Component\nexport default class ModeZone extends Vue {\n  get currentMode() {\n    return store.state.module1.currentMode;\n  }\n\n  get controllImg(): string {\n    if (store.state.module1.currentState === \"PLAYING\") {\n      return \"img/mode/pause.png\";\n    } else {\n      return \"img/mode/continue.png\";\n    }\n  }\n\n  private changeState() {\n    if (store.state.module1.currentState === \"PLAYING\") {\n      store.commit.changeState(\"PAUSE\");\n      Controller.getInstance().pause();\n    } else {\n      store.commit.changeState(\"PLAYING\");\n      Controller.getInstance().continue();\n    }\n  }\n\n  private changeToLayoutMode() {\n    if (this.currentMode === \"LAYOUT\") return;\n    store.commit.changeMode(\"LAYOUT\");\n    store.commit.changeState(\"PAUSE\");\n    Controller.getInstance().stopPlaying();\n  }\n\n  private changeToPlayMode() {\n    if (this.currentMode === \"PLAY\") return;\n    store.commit.changeMode(\"PLAY\");\n    store.commit.changeState(\"PLAYING\");\n    Controller.getInstance().startPlaying();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModeZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ModeZone.vue?vue&type=template&id=180a421e&scoped=true&\"\nimport script from \"./ModeZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./ModeZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ModeZone.vue?vue&type=style&index=0&id=180a421e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"180a421e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',[_c('h1',{attrs:{\"id\":\"gizmo-ball\"}},[_vm._v(\"Gizmo Ball\")]),_c('blockquote',[_vm._v(\" electron \")]),_c('h2',{attrs:{\"id\":\"\"}},[_vm._v(\"\")]),_c('h3',{attrs:{\"id\":\"\"}},[_vm._v(\"\")]),_c('ol',[_c('li',[_vm._v(\"  \")]),_c('li',[_vm._v(\" X \")]),_c('li',[_vm._v(\"  \")]),_c('li',[_vm._v(\"  \")]),_c('li',[_c('strong',[_vm._v(\"\")])])]),_c('h3',{attrs:{\"id\":\"\"}},[_vm._v(\"\")]),_c('ul',[_c('li',[_vm._v(\"A/DJ/L\")]),_c('li',[_vm._v(\"\"),_c('code',[_vm._v(\"\")]),_vm._v(\"\")]),_c('li',[_vm._v(\"\")])])])\n}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Instruction.vue?vue&type=template&id=4a5f8f2e&scoped=true&\"\nvar script = {}\nimport style0 from \"./Instruction.vue?vue&type=style&index=0&id=4a5f8f2e&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a5f8f2e\",\n  null\n  \n)\n\nexport default component.exports","\nimport GamePanel from \"@/components/modules/GamePanel.vue\";\nimport ItemZone from \"@/components/modules/ItemZone.vue\";\nimport ToolZone from \"@/components/modules/ToolZone.vue\";\nimport ModeZone from \"@/components/modules/ModeZone.vue\";\nimport Instruction from \"@/components/modules/instruction/Instruction.vue\";\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\n\n@Component({\n  components: {\n    GamePanel,\n    ItemZone,\n    ToolZone,\n    ModeZone,\n    Instruction,\n  }\n})\nexport default class Home extends Vue {\n  @Prop() private msg!: string;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--15-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=53f68fe2&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=ts&\"\nexport * from \"./Home.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=53f68fe2&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"53f68fe2\",\n  null\n  \n)\n\nexport default component.exports","import Controller from \"@/core/controller/Controller\";\nimport { MapItemNames } from \"@/core/enums\";\n\nclass TSViews {\n  public static keyMap: Map<string, boolean> = new Map<string, boolean>([\n    [\"a\", false],\n    [\"d\", false],\n    [\"j\", false],\n    [\"l\", false]\n  ]);\n\n  /**\n   * \n   */\n  public static bindKey() {\n    window.onkeydown = (e: KeyboardEvent) => {\n      const k = e.key;\n      if (this.keyMap.has(k)) {\n        this.keyMap.set(k, true);\n      }\n    };\n    window.onkeyup = (e: KeyboardEvent) => {\n      const k = e.key;\n      if (this.keyMap.has(k)) {\n        this.keyMap.set(k, false);\n      }\n    };\n    const controller = Controller.getInstance();\n\n    setInterval(() => {\n      if (this.keyMap.get(\"a\")) {\n        controller.handleBaffleMove(\"baffle-alpha\", \"left\");\n      }\n      if (this.keyMap.get(\"d\")) {\n        controller.handleBaffleMove(\"baffle-alpha\", \"right\");\n      }\n      if (this.keyMap.get(\"l\")) {\n        controller.handleBaffleMove(\"baffle-beta\", \"right\");\n      }\n      if (this.keyMap.get(\"j\")) {\n        controller.handleBaffleMove(\"baffle-beta\", \"left\");\n      }\n    }, 10);\n  }\n}\n\nexport default TSViews;\n","\nimport { Component, Prop, Vue } from \"vue-property-decorator\";\nimport Home from \"@/views/Home.vue\";\nimport TSViews from \"@/views/TSViews\";\n\n@Component({\n  components: {\n    Home\n  }\n})\nexport default class HelloWorld extends Vue {\n  $refs!: {\n    app: HTMLElement;\n  };\n\n  mounted() {\n    // this.setAppSize();\n    TSViews.bindKey();\n  }\n\n  private setAppSize() {\n    this.$refs.app.style.height = `${window.innerHeight - 30}px`;\n    this.$refs.app.style.width = `${window.innerWidth}px`;\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--15-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--15-3!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4c22a492&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4c22a492&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  store: store as any,\n  render: h => h(App)\n}).$mount(\"#app\");\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ToolZone.vue?vue&type=style&index=0&id=08d92c8a&prod&scoped=true&lang=css&\""],"sourceRoot":""}